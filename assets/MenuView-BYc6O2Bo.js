import{r as u,f as x,c as s,a as t,F as r,d as _,w as y,b as h,t as o,v as g,o as n,g as C,h as V}from"./index-CCfTkECm.js";const $={id:"root"},D={class:"container mt-5"},M={class:"row"},T={class:"col-md-4"},j={class:"list-group"},B=["onClick"],P={class:"d-flex w-100 justify-content-between"},U={class:"mb-1"},E={class:"mb-1"},F={key:0,class:"col-md-8"},I={class:"table"},N=["onClick"],Q=["onUpdate:modelValue"],S=["value"],L={class:"text-end mb-3"},O={class:"text-end"},q={key:1,class:"col-md-8"},z={key:0,class:"row justify-content-center"},A={class:"col-8"},G={class:"card"},H={class:"card-body"},J={class:"card-title"},K={class:"table"},R={class:"text-end"},W={class:"text-end"},X={key:1,class:"row justify-content-center"},tt={__name:"MenuView",setup(Y){const m=u([{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}]),d=u([]),p=u({}),c=u({}),v=u(""),f=a=>{p.value=m.value.find(e=>e.id===a),p.value.amount=1,d.value.push(p.value),console.log(d.value),p.value={}},k=a=>{let e=d.value.findIndex(l=>l.id===a);console.log(e),d.value.splice(e,1),console.log(d.value)},b=x(()=>{let a=0;return d.value.forEach(e=>{a+=e.price*e.amount}),a}),w=()=>{c.value={id:new Date().getTime(),cart:d.value,note:v.value,total:b.value},d.value=[],v.value="",console.log(c.value)};return(a,e)=>(n(),s(r,null,[e[11]||(e[11]=t("h2",null,"菜單",-1)),t("div",$,[t("div",D,[t("div",M,[t("div",T,[t("div",j,[(n(!0),s(r,null,_(m.value,l=>(n(),s("a",{href:"#",class:"list-group-item list-group-item-action",key:l.id,onClick:C(i=>f(l.id),["prevent"])},[t("div",P,[t("h5",U,o(l.name),1),t("small",null,"$"+o(l.price),1)]),t("p",E,o(l.description),1)],8,B))),128))])]),d.value.length?(n(),s("div",F,[t("table",I,[e[2]||(e[2]=t("thead",null,[t("tr",null,[t("th",{scope:"col",width:"50"},"操作"),t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"描述"),t("th",{scope:"col",width:"90"},"數量"),t("th",{scope:"col"},"單價"),t("th",{scope:"col"},"小計")])],-1)),t("tbody",null,[(n(!0),s(r,null,_(d.value,l=>(n(),s("tr",{key:l.id},[t("td",null,[t("button",{type:"button",class:"btn btn-sm",onClick:i=>k(l.id)},"x",8,N)]),t("td",null,o(l.name),1),t("td",null,[t("small",null,o(l.description),1)]),t("td",null,[y(t("select",{class:"form-select","onUpdate:modelValue":i=>l.amount=i},[(n(),s(r,null,_(10,i=>t("option",{value:i,key:i},o(i),9,S)),64))],8,Q),[[V,l.amount]])]),t("td",null,o(l.price),1),t("td",null,o(l.price*l.amount),1)]))),128))])]),t("div",L,[t("h5",null,[e[3]||(e[3]=h("總計: ",-1)),t("span",null,"$"+o(b.value),1)])]),y(t("textarea",{class:"form-control mb-3",rows:"3",placeholder:"備註","onUpdate:modelValue":e[0]||(e[0]=l=>v.value=l)},null,512),[[g,v.value]]),t("div",O,[t("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=l=>w())},"送出")])])):(n(),s("div",q,e[4]||(e[4]=[t("h2",null,"按左側點餐",-1)])))]),e[10]||(e[10]=t("hr",null,null,-1)),c.value.id?(n(),s("div",z,[t("div",A,[t("div",G,[t("div",H,[t("div",J,[e[8]||(e[8]=t("h5",null,"訂單",-1)),t("table",K,[e[5]||(e[5]=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"數量"),t("th",{scope:"col"},"小計")])],-1)),t("tbody",null,[(n(!0),s(r,null,_(c.value.cart,l=>(n(),s("tr",{key:l.id},[t("td",null,o(l.name),1),t("td",null,o(l.amount),1),t("td",null,o(l.price*l.amount),1)]))),128))])]),t("div",R,[e[6]||(e[6]=h("備註: ",-1)),t("span",null,o(c.value.note),1)]),t("div",W,[t("h5",null,[e[7]||(e[7]=h("總計: ",-1)),t("span",null,"$"+o(c.value.total),1)])])])])])])])):(n(),s("div",X,e[9]||(e[9]=[t("h2",null,"您還沒送出訂單",-1)])))])])],64))}};export{tt as default};
